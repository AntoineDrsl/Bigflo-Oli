{% extends 'base.html.twig' %}

{% block title %}Mon compte - {{ app.user.pseudo }}{% endblock %}

<!-- On appelle le CSS -->
{% block stylesheets %}<link rel="stylesheet" href=" {{ asset('assets/css/update-user.css') }}">{% endblock%}

{% block body %}
    <div class="container">

        <!-- On met en forme le formulaire en découpant chaque champs avec la fonction form_row de Twig -->
        {{ form_start(userForm) }}

            <h1 class="my-5 text-center">Modifier mes informations</h1>

            <div class="row align-items-center">
                <div class="col-md-8">
                    {{ form_row(userForm.pseudo) }}
                    {{ form_row(userForm.email) }}
                    {{ form_row(userForm.password) }}
                </div>
                <div class="col-md-3 offset-md-1 text-center">
                    <label for="user_avatar" class="avatarLabel">
                        <p class="text-center">Photo de profil</p>
                        <div id="avatarContainer">
                            <!-- Si le user a déjà un avatar, on affiche son avatar de base dans le label -->
                            <img id="avatar" class="w-100 hasBorder" {% if user.avatar %}src="{{ asset('assets/uploads/users/' ~ user.avatar) }}"{% endif %}>
                        </div>
                    </label>
                    {{ form_row(userForm.avatar) }}
                </div>
            </div>
            <div class="text-center mt-5">
                <button class="btn btn-lg btn-outline-primary mt-3">Modifier</button>
            </div>

        {{ form_end(userForm) }}
        <a href="{{ path('account')}}" class="btn btn-outline-light my-5">Revenir au compte</a>

    </div>
{% endblock %}

<!-- On appelle le JS -->
{% block javascripts %}
<script src="{{ asset('assets/js/update-user.js') }}"></script>
{% endblock %}